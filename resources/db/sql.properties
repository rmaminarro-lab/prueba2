# --- CONSULTAS ALQUILER ---
select-findAllAlquileres=SELECT id, idInscripcion, matricula, fechaInicio, fechaFin, plazasReservadas, precioTotal FROM Alquiler
select-findAlquilerById=SELECT id, idInscripcion, matricula, fechaInicio, fechaFin, plazasReservadas, precioTotal FROM Alquiler WHERE id=?
# ESTA FALTABA (Para buscar futuros)
select-findAlquileresFuturos=SELECT * FROM Alquiler WHERE fechaInicio > ?
select-findAlquileresByMatricula=SELECT * FROM Alquiler WHERE matricula=?
insert-addAlquiler=INSERT INTO Alquiler (idInscripcion, matricula, fechaInicio, fechaFin, plazasReservadas, precioTotal) VALUES (?,?,?,?,?,?)
# ESTA FALTABA (Para actualizar precio al añadir socios)
update-updateAlquilerPlazasPrecio=UPDATE Alquiler SET plazasReservadas=?, precioTotal=? WHERE id=?
delete-alquilerById=DELETE FROM Alquiler WHERE id=?

# --- CONSULTAS ALQUILER-SOCIO ---
select-findAllAlquilerSocios=SELECT id, idAlquiler, dniSocio FROM AlquilerSocio
select-findAlquilerSocioByIdAlquiler=SELECT id, idAlquiler, dniSocio FROM AlquilerSocio WHERE idAlquiler=?
select-findAlquilerSocioByDni=SELECT id, idAlquiler, dniSocio FROM AlquilerSocio WHERE dniSocio=?
# ESTA FALTABA
select-countSociosEnAlquiler=SELECT COUNT(*) FROM AlquilerSocio WHERE idAlquiler=?
insert-addAlquilerSocio=INSERT INTO AlquilerSocio (idAlquiler, dniSocio) VALUES (?, ?)
delete-deleteAlquilerSocio=DELETE FROM AlquilerSocio WHERE idAlquiler=? AND dniSocio=?

# --- CONSULTAS EMBARCACION ---
select-findAllEmbarcaciones=SELECT matricula, nombre, tipo, numPlazas, dimensiones, dniPatron FROM Embarcacion
select-findEmbarcacionByMatricula=SELECT matricula, nombre, tipo, numPlazas, dimensiones, dniPatron FROM Embarcacion WHERE matricula=?
select-findEmbarcacionByTipo=SELECT matricula, nombre, tipo, numPlazas, dimensiones, dniPatron FROM Embarcacion WHERE UPPER(tipo)=?
select-findEmbarcacionByNombre=SELECT matricula, nombre, tipo, numPlazas, dimensiones, dniPatron FROM Embarcacion WHERE nombre=?
select-findEmbarcacionesDisponibles=SELECT * FROM Embarcacion WHERE matricula NOT IN (SELECT matricula FROM Alquiler WHERE (fechaInicio <= ? AND fechaFin >= ?) OR (fechaInicio BETWEEN ? AND ?) OR (fechaFin BETWEEN ? AND ?)) AND matricula NOT IN (SELECT matricula FROM Reserva WHERE fecha BETWEEN ? AND ?)

insert-addEmbarcacion=INSERT INTO Embarcacion (matricula, nombre, tipo, numPlazas, dimensiones, dniPatron) VALUES (?, ?, ?, ?, ?, ?)
update-updateEmbarcacion=UPDATE Embarcacion SET nombre=?, tipo=?, numPlazas=?, dimensiones=?, dniPatron=? WHERE matricula=?
# ESTA FALTABA (Para vincular patrón)
update-linkPatron=UPDATE Embarcacion SET dniPatron=? WHERE matricula=?
delete-deleteEmbarcacionByMatricula=DELETE FROM Embarcacion WHERE matricula=?

# ESTAS FALTABAN (Validaciones para no borrar si está en uso)
select-countAlquileresByMatricula=SELECT COUNT(*) FROM Alquiler WHERE matricula=?
select-countReservasByMatricula=SELECT COUNT(*) FROM Reserva WHERE matricula=?

# --- CONSULTAS INSCRIPCION ---
select-findAllInscripciones=SELECT id, fechaCreacion, tipo, cuotaActual, dniTitular FROM Inscripcion
select-findInscripcionById=SELECT id, fechaCreacion, tipo, cuotaActual, dniTitular FROM Inscripcion WHERE id=?
select-findInscripcionesByTipo=SELECT id, fechaCreacion, tipo, cuotaActual, dniTitular FROM Inscripcion WHERE tipo=?
# ESTA FALTABA
select-findInscripcionByDniTitular=SELECT * FROM Inscripcion WHERE dniTitular=?
insert-addInscripcion=INSERT INTO Inscripcion (fechaCreacion, tipo, cuotaActual, dniTitular) VALUES (?, ?, ?, ?)
update-updateInscripcion=UPDATE Inscripcion SET fechaCreacion=?, tipo=?, cuotaActual=?, dniTitular=? WHERE id=?
delete-deleteInscripcionById=DELETE FROM Inscripcion WHERE id=?

# --- CONSULTAS PATRON ---
select-findAllPatrones=SELECT dni, nombre, apellidos, fechaNacimiento, fechaExpedicionTitulo FROM Patron
select-findPatronByDni=SELECT dni, nombre, apellidos, fechaNacimiento, fechaExpedicionTitulo FROM Patron WHERE dni=?
insert-addPatron=INSERT INTO Patron (dni, nombre, apellidos, fechaNacimiento, fechaExpedicionTitulo) VALUES (?, ?, ?, ?, ?)
update-updatePatron=UPDATE Patron SET nombre=?, apellidos=?, fechaNacimiento=?, fechaExpedicionTitulo=? WHERE dni=?
delete-deletePatronByDni=DELETE FROM Patron WHERE dni=?

# ESTA FALTABA (Validación crítica para DELETE Patrón)
select-countEmbarcacionesByPatron=SELECT COUNT(*) FROM Embarcacion WHERE dniPatron=?

# --- CONSULTAS RESERVA ---
select-findAllReservas=SELECT id, dniSocio, matricula, fecha, plazasReservadas, proposito, precioTotal FROM Reserva
select-findReservaById=SELECT id, dniSocio, matricula, fecha, plazasReservadas, proposito, precioTotal FROM Reserva WHERE id=?
# ESTA FALTABA
select-findReservasFuturas=SELECT * FROM Reserva WHERE fecha > ?
insert-addReserva=INSERT INTO Reserva (dniSocio, matricula, fecha, plazasReservadas, proposito, precioTotal) VALUES (?, ?, ?, ?, ?, ?)
update-updateReserva=UPDATE Reserva SET dniSocio=?, matricula=?, fecha=?, plazasReservadas=?, proposito=?, precioTotal=? WHERE id=?
delete-deleteReservaById=DELETE FROM Reserva WHERE id=?

select-isReservaDisponible=SELECT COUNT(*) FROM Reserva WHERE matricula = ? AND fecha = ?
select-isAlquilerDisponible=SELECT COUNT(*) FROM Alquiler WHERE matricula = ? AND ? BETWEEN fechaInicio AND fechaFin

# --- CONSULTAS SOCIO ---
select-findAllSocios=SELECT dni, nombre, apellidos, fechaNacimiento, direccion, fechaInscripcion, esTitular, tieneTituloPatron FROM Socio
select-findSocioByDni=SELECT dni, nombre, apellidos, fechaNacimiento, direccion, fechaInscripcion, esTitular, tieneTituloPatron FROM Socio WHERE dni=?
insert-addSocio=INSERT INTO Socio (dni, nombre, apellidos, fechaNacimiento, direccion, fechaInscripcion, esTitular, tieneTituloPatron) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
update-updateSocio=UPDATE Socio SET nombre=?, apellidos=?, fechaNacimiento=?, direccion=?, fechaInscripcion=?, esTitular=?, tieneTituloPatron=? WHERE dni=?
delete-deleteSocioByDni=DELETE FROM Socio WHERE dni=?
update-setTituloPatron=UPDATE Socio SET tieneTituloPatron=? WHERE dni=?

# --- CONSULTAS SOCIO-INSCRIPCION ---
select-findAllSocioInscripciones=SELECT id, idInscripcion, dniSocio FROM SocioInscripcion;
select-findSocioInscripcionByIdInscripcion=SELECT id, idInscripcion, dniSocio FROM SocioInscripcion WHERE idInscripcion=?;
select-findSocioInscripcionByDni=SELECT id, idInscripcion, dniSocio FROM SocioInscripcion WHERE dniSocio=?;
insert-addSocioInscripcion=INSERT INTO SocioInscripcion (idInscripcion, dniSocio) VALUES (?, ?);
delete-deleteSocioInscripcion=DELETE FROM SocioInscripcion WHERE idInscripcion=? AND dniSocio=?;
select-countByInscripcionId=SELECT COUNT(*) FROM SocioInscripcion WHERE idInscripcion = ?
# ESTA FALTABA (Validación crítica para DELETE Socio)
select-countSocioInscripcionesByDniSocio=SELECT COUNT(*) FROM SocioInscripcion WHERE dniSocio=?